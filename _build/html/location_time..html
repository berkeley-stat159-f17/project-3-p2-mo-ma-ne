
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Exploratory analyses #1 &amp; #2: the effects of place and time &#8212; p3 1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Exploratory analysis #3: investor portfolio correlations" href="investors..html" />
    <link rel="prev" title="Can we predict a start-up&#39;s success?" href="README.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #303F9F;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #D84315;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 8ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }
</style>
<div class="section" id="Exploratory-analyses-#1-&amp;-#2:-the-effects-of-place-and-time">
<h1>Exploratory analyses #1 &amp; #2: the effects of place and time<a class="headerlink" href="#Exploratory-analyses-#1-&-#2:-the-effects-of-place-and-time" title="Permalink to this headline">¶</a></h1>
<p>We begin with exploratory analysis of the various factors we hypothesize
may influence a company’s success. In this notebook, we investigate
associations between company valuation at IPO or total funding amount
and office location and timing.</p>
<div class="section" id="Set-up">
<h2>Set-up<a class="headerlink" href="#Set-up" title="Permalink to this headline">¶</a></h2>
<p>Import stand-alone functions and necessary packages.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">modules</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="kn">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>

<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;seaborn-dark&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.figsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Connect to the MySQL database, read in cb_offices and cb_ipos and
convert to dataframes, disconnect from database.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">conn</span> <span class="o">=</span> <span class="n">dbConnect</span><span class="p">()</span>
<span class="n">offices</span> <span class="o">=</span> <span class="n">dbTableToDataFrame</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span> <span class="s1">&#39;cb_offices&#39;</span><span class="p">)</span>
<span class="n">ipos</span> <span class="o">=</span> <span class="n">dbTableToDataFrame</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span> <span class="s1">&#39;cb_ipos&#39;</span><span class="p">)</span>
<span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Look-at-offices-and-ipos-dataframes-&amp;-merge-them">
<h2>Look at offices and ipos dataframes &amp; merge them<a class="headerlink" href="#Look-at-offices-and-ipos-dataframes-&-merge-them" title="Permalink to this headline">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">offices</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[4]:
</pre></div>
</div>
<div class="output_area docutils container">
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>address1</th>
      <th>address2</th>
      <th>city</th>
      <th>country_code</th>
      <th>created_at</th>
      <th>description</th>
      <th>id</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>object_id</th>
      <th>office_id</th>
      <th>region</th>
      <th>state_code</th>
      <th>updated_at</th>
      <th>zip_code</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>710 - 2nd Avenue</td>
      <td>Suite 1100</td>
      <td>Seattle</td>
      <td>USA</td>
      <td>None</td>
      <td></td>
      <td>1</td>
      <td>47.6031220000</td>
      <td>-122.3332530000</td>
      <td>c:1</td>
      <td>1</td>
      <td>Seattle</td>
      <td>WA</td>
      <td>None</td>
      <td>98104</td>
    </tr>
    <tr>
      <th>1</th>
      <td>4900 Hopyard Rd</td>
      <td>Suite 310</td>
      <td>Pleasanton</td>
      <td>USA</td>
      <td>None</td>
      <td>Headquarters</td>
      <td>2</td>
      <td>37.6929340000</td>
      <td>-121.9049450000</td>
      <td>c:3</td>
      <td>3</td>
      <td>SF Bay</td>
      <td>CA</td>
      <td>None</td>
      <td>94588</td>
    </tr>
    <tr>
      <th>2</th>
      <td>135 Mississippi St</td>
      <td>None</td>
      <td>San Francisco</td>
      <td>USA</td>
      <td>None</td>
      <td>None</td>
      <td>3</td>
      <td>37.7647260000</td>
      <td>-122.3945230000</td>
      <td>c:4</td>
      <td>4</td>
      <td>SF Bay</td>
      <td>CA</td>
      <td>None</td>
      <td>94107</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1601 Willow Road</td>
      <td>None</td>
      <td>Menlo Park</td>
      <td>USA</td>
      <td>None</td>
      <td>Headquarters</td>
      <td>4</td>
      <td>37.4160500000</td>
      <td>-122.1518010000</td>
      <td>c:5</td>
      <td>5</td>
      <td>SF Bay</td>
      <td>CA</td>
      <td>None</td>
      <td>94025</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Suite 200</td>
      <td>654 High Street</td>
      <td>Palo Alto</td>
      <td>ISR</td>
      <td>None</td>
      <td></td>
      <td>5</td>
      <td>None</td>
      <td>None</td>
      <td>c:7</td>
      <td>7</td>
      <td>SF Bay</td>
      <td>CA</td>
      <td>None</td>
      <td>94301</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">ipos</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[5]:
</pre></div>
</div>
<div class="output_area docutils container">
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>created_at</th>
      <th>id</th>
      <th>ipo_id</th>
      <th>object_id</th>
      <th>public_at</th>
      <th>raised_amount</th>
      <th>raised_currency_code</th>
      <th>source_description</th>
      <th>source_url</th>
      <th>stock_symbol</th>
      <th>updated_at</th>
      <th>valuation_amount</th>
      <th>valuation_currency_code</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2008-02-09 05:17:45</td>
      <td>1</td>
      <td>1</td>
      <td>c:1654</td>
      <td>1980-12-19</td>
      <td>None</td>
      <td>USD</td>
      <td>None</td>
      <td>None</td>
      <td>NASDAQ:AAPL</td>
      <td>2012-04-12 04:02:59</td>
      <td>None</td>
      <td>USD</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2008-02-09 05:25:18</td>
      <td>2</td>
      <td>2</td>
      <td>c:1242</td>
      <td>1986-03-13</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>NASDAQ:MSFT</td>
      <td>2010-12-11 12:39:46</td>
      <td>None</td>
      <td>USD</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2008-02-09 05:40:32</td>
      <td>3</td>
      <td>3</td>
      <td>c:342</td>
      <td>1969-06-09</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>NYSE:DIS</td>
      <td>2010-12-23 08:58:16</td>
      <td>None</td>
      <td>USD</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2008-02-10 22:51:24</td>
      <td>4</td>
      <td>4</td>
      <td>c:59</td>
      <td>2004-08-25</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>NASDAQ:GOOG</td>
      <td>2011-08-01 20:47:08</td>
      <td>None</td>
      <td>USD</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2008-02-10 23:28:09</td>
      <td>5</td>
      <td>5</td>
      <td>c:317</td>
      <td>1997-05-01</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>NASDAQ:AMZN</td>
      <td>2011-08-01 21:11:22</td>
      <td>100000000000</td>
      <td>USD</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># merge by &#39;object_id&#39; field, which uniquely links the two dataframes</span>
<span class="n">offices_ipos</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">offices</span><span class="p">,</span> <span class="n">ipos</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;object_id&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># look at new merged dataframe</span>
<span class="n">offices_ipos</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[7]:
</pre></div>
</div>
<div class="output_area docutils container">
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>address1</th>
      <th>address2</th>
      <th>city</th>
      <th>country_code</th>
      <th>created_at_x</th>
      <th>description</th>
      <th>id_x</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>object_id</th>
      <th>...</th>
      <th>ipo_id</th>
      <th>public_at</th>
      <th>raised_amount</th>
      <th>raised_currency_code</th>
      <th>source_description</th>
      <th>source_url</th>
      <th>stock_symbol</th>
      <th>updated_at_y</th>
      <th>valuation_amount</th>
      <th>valuation_currency_code</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1601 Willow Road</td>
      <td>None</td>
      <td>Menlo Park</td>
      <td>USA</td>
      <td>None</td>
      <td>Headquarters</td>
      <td>4</td>
      <td>37.4160500000</td>
      <td>-122.1518010000</td>
      <td>c:5</td>
      <td>...</td>
      <td>847</td>
      <td>2012-05-18</td>
      <td>18400000000</td>
      <td>USD</td>
      <td>Facebook Prices IPO at Record Value</td>
      <td>http://online.wsj.com/news/articles/SB10001424...</td>
      <td>NASDAQ:FB</td>
      <td>2013-11-21 19:40:55</td>
      <td>104000000000</td>
      <td>USD</td>
    </tr>
    <tr>
      <th>1</th>
      <td>None</td>
      <td>None</td>
      <td>Dublin</td>
      <td>IRL</td>
      <td>None</td>
      <td>Europe HQ</td>
      <td>6975</td>
      <td>53.3441040000</td>
      <td>-6.2674940000</td>
      <td>c:5</td>
      <td>...</td>
      <td>847</td>
      <td>2012-05-18</td>
      <td>18400000000</td>
      <td>USD</td>
      <td>Facebook Prices IPO at Record Value</td>
      <td>http://online.wsj.com/news/articles/SB10001424...</td>
      <td>NASDAQ:FB</td>
      <td>2013-11-21 19:40:55</td>
      <td>104000000000</td>
      <td>USD</td>
    </tr>
    <tr>
      <th>2</th>
      <td>340 Madison Ave</td>
      <td>None</td>
      <td>New York</td>
      <td>USA</td>
      <td>None</td>
      <td>New York</td>
      <td>9084</td>
      <td>40.7557162000</td>
      <td>-73.9792469000</td>
      <td>c:5</td>
      <td>...</td>
      <td>847</td>
      <td>2012-05-18</td>
      <td>18400000000</td>
      <td>USD</td>
      <td>Facebook Prices IPO at Record Value</td>
      <td>http://online.wsj.com/news/articles/SB10001424...</td>
      <td>NASDAQ:FB</td>
      <td>2013-11-21 19:40:55</td>
      <td>104000000000</td>
      <td>USD</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1355 Market St.</td>
      <td>None</td>
      <td>San Francisco</td>
      <td>USA</td>
      <td>None</td>
      <td></td>
      <td>10</td>
      <td>37.7768052000</td>
      <td>-122.4169244000</td>
      <td>c:12</td>
      <td>...</td>
      <td>1310</td>
      <td>2013-11-07</td>
      <td>1820000000</td>
      <td>USD</td>
      <td>Twitter Prices IPO Above Estimates At $26 Per ...</td>
      <td>http://techcrunch.com/2013/11/06/twitter-price...</td>
      <td>NYSE:TWTR</td>
      <td>2013-11-07 04:18:48</td>
      <td>18100000000</td>
      <td>USD</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2145 Hamilton Avenue</td>
      <td>None</td>
      <td>San Jose</td>
      <td>USA</td>
      <td>None</td>
      <td>Headquarters</td>
      <td>16</td>
      <td>37.2950050000</td>
      <td>-121.9300350000</td>
      <td>c:20</td>
      <td>...</td>
      <td>26</td>
      <td>1998-10-02</td>
      <td>None</td>
      <td>USD</td>
      <td>None</td>
      <td>None</td>
      <td>NASDAQ:EBAY</td>
      <td>2012-04-12 04:24:15</td>
      <td>None</td>
      <td>USD</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 27 columns</p>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">offices_ipos</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[8]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>(1554, 27)
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">offices_ipos</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[9]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>Index([&#39;address1&#39;, &#39;address2&#39;, &#39;city&#39;, &#39;country_code&#39;, &#39;created_at_x&#39;,
       &#39;description&#39;, &#39;id_x&#39;, &#39;latitude&#39;, &#39;longitude&#39;, &#39;object_id&#39;,
       &#39;office_id&#39;, &#39;region&#39;, &#39;state_code&#39;, &#39;updated_at_x&#39;, &#39;zip_code&#39;,
       &#39;created_at_y&#39;, &#39;id_y&#39;, &#39;ipo_id&#39;, &#39;public_at&#39;, &#39;raised_amount&#39;,
       &#39;raised_currency_code&#39;, &#39;source_description&#39;, &#39;source_url&#39;,
       &#39;stock_symbol&#39;, &#39;updated_at_y&#39;, &#39;valuation_amount&#39;,
       &#39;valuation_currency_code&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
<div class="section" id="Distribution-of-valuation-amount">
<h3>Distribution of valuation amount<a class="headerlink" href="#Distribution-of-valuation-amount" title="Permalink to this headline">¶</a></h3>
<p>We first want a sense for the total valuation amounts we are
considering. The valuations are all &lt; 2x1010 except for 3 that are
&gt;1x1011. While there are 1,554 entries in the merged dataframe, there
are only 167 entries that have valuation amount provided. We will
continue with analysis of valuation amount but subsequently look at
total funding amount instead later in this notebook to increase our
sample size.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># plot valuation distribution; include number of companies considering</span>
<span class="n">val</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">offices_ipos</span><span class="p">[</span><span class="o">~</span><span class="n">offices_ipos</span><span class="o">.</span><span class="n">valuation_amount</span><span class="o">.</span><span class="n">isnull</span><span class="p">()]</span><span class="o">.</span><span class="n">valuation_amount</span><span class="p">)</span>
<span class="n">a</span><span class="o">=</span><span class="n">sns</span><span class="o">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">rug</span><span class="o">=</span><span class="bp">True</span><span class="p">);</span>
<span class="n">a</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;valuation distribution (N = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">val</span><span class="p">))</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/location_time._17_0.png" src="_images/location_time._17_0.png" />
</div>
</div>
<p>We look at these 3 outliers and see that one is simply because the
valuation amount is in JPY (currently 1 JPY = 0.0088 USD). The other two
are Facebook and Amazon, which we know to be companies with very high
valuations. We will look at those with valuation_currency_code ‘USD’
moving forward to standardize our analysis to one currency.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># look at the 3 outliers with very large valuation_amount</span>
<span class="n">offices_ipos</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">offices_ipos</span><span class="o">.</span><span class="n">valuation_amount</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0.8e11</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[11]:
</pre></div>
</div>
<div class="output_area docutils container">
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>address1</th>
      <th>address2</th>
      <th>city</th>
      <th>country_code</th>
      <th>created_at_x</th>
      <th>description</th>
      <th>id_x</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>object_id</th>
      <th>...</th>
      <th>ipo_id</th>
      <th>public_at</th>
      <th>raised_amount</th>
      <th>raised_currency_code</th>
      <th>source_description</th>
      <th>source_url</th>
      <th>stock_symbol</th>
      <th>updated_at_y</th>
      <th>valuation_amount</th>
      <th>valuation_currency_code</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1601 Willow Road</td>
      <td>None</td>
      <td>Menlo Park</td>
      <td>USA</td>
      <td>None</td>
      <td>Headquarters</td>
      <td>4</td>
      <td>37.4160500000</td>
      <td>-122.1518010000</td>
      <td>c:5</td>
      <td>...</td>
      <td>847</td>
      <td>2012-05-18</td>
      <td>18400000000</td>
      <td>USD</td>
      <td>Facebook Prices IPO at Record Value</td>
      <td>http://online.wsj.com/news/articles/SB10001424...</td>
      <td>NASDAQ:FB</td>
      <td>2013-11-21 19:40:55</td>
      <td>104000000000</td>
      <td>USD</td>
    </tr>
    <tr>
      <th>1</th>
      <td>None</td>
      <td>None</td>
      <td>Dublin</td>
      <td>IRL</td>
      <td>None</td>
      <td>Europe HQ</td>
      <td>6975</td>
      <td>53.3441040000</td>
      <td>-6.2674940000</td>
      <td>c:5</td>
      <td>...</td>
      <td>847</td>
      <td>2012-05-18</td>
      <td>18400000000</td>
      <td>USD</td>
      <td>Facebook Prices IPO at Record Value</td>
      <td>http://online.wsj.com/news/articles/SB10001424...</td>
      <td>NASDAQ:FB</td>
      <td>2013-11-21 19:40:55</td>
      <td>104000000000</td>
      <td>USD</td>
    </tr>
    <tr>
      <th>2</th>
      <td>340 Madison Ave</td>
      <td>None</td>
      <td>New York</td>
      <td>USA</td>
      <td>None</td>
      <td>New York</td>
      <td>9084</td>
      <td>40.7557162000</td>
      <td>-73.9792469000</td>
      <td>c:5</td>
      <td>...</td>
      <td>847</td>
      <td>2012-05-18</td>
      <td>18400000000</td>
      <td>USD</td>
      <td>Facebook Prices IPO at Record Value</td>
      <td>http://online.wsj.com/news/articles/SB10001424...</td>
      <td>NASDAQ:FB</td>
      <td>2013-11-21 19:40:55</td>
      <td>104000000000</td>
      <td>USD</td>
    </tr>
    <tr>
      <th>91</th>
      <td>1200 12th Ave</td>
      <td>S # 1200</td>
      <td>Seattle</td>
      <td>USA</td>
      <td>None</td>
      <td>None</td>
      <td>288</td>
      <td>47.5923000000</td>
      <td>-122.3172950000</td>
      <td>c:317</td>
      <td>...</td>
      <td>5</td>
      <td>1997-05-01</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>NASDAQ:AMZN</td>
      <td>2011-08-01 21:11:22</td>
      <td>100000000000</td>
      <td>USD</td>
    </tr>
    <tr>
      <th>360</th>
      <td>Roppongi-Hills Mori Tower, 6-10-1, Roppongi</td>
      <td>Minato-ku</td>
      <td>Tokyo</td>
      <td>JPN</td>
      <td>None</td>
      <td>Headquarters</td>
      <td>9085</td>
      <td>None</td>
      <td>None</td>
      <td>c:15609</td>
      <td>...</td>
      <td>78</td>
      <td>2008-12-17</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>3632</td>
      <td>2010-10-08 06:47:07</td>
      <td>108960000000</td>
      <td>JPY</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 27 columns</p>
</div></div>
</div>
<p>The above table reveals that we do have duplicate entries for certain
companies based on multiple office locations. We need to look at the
number of unique companies we are considering, which as shown below is
101 (not 167). Because the ‘description field’ does not sufficiently and
uniformly describe the type of office for all entries, we will not
filter by that column. Instead, this is just a preliminary exploratory
analysis that will keep all locations in the analysis. We would ideally
like to filter by ‘Headquarters’ or ‘HQ’ but the data is not
sufficiently documented so this would require substantial data entry to
designate the headquarters location for all companies with multiple
office locations.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="nb">len</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">offices_ipos</span><span class="p">[</span><span class="o">~</span><span class="n">offices_ipos</span><span class="o">.</span><span class="n">valuation_amount</span><span class="o">.</span><span class="n">isnull</span><span class="p">()]</span><span class="o">.</span><span class="n">object_id</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[12]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>101
</pre></div>
</div>
</div>
</div>
<div class="section" id="Valuation-amount-by-region">
<h3>Valuation amount by region<a class="headerlink" href="#Valuation-amount-by-region" title="Permalink to this headline">¶</a></h3>
<p>We want to determine the effect of location on IPO valuation. In
particular, we consider the median valuation and number of IPOs by
region to determine whether certain regions are hotspots for companies
that IPO. As mentioned above, we now limit our analysis to valuations in
USD, which reduces our N from 167 to 161.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># restrict to valuations in USD currency</span>
<span class="n">offices_ipos_us</span> <span class="o">=</span> <span class="n">offices_ipos</span><span class="p">[</span><span class="n">offices_ipos</span><span class="o">.</span><span class="n">valuation_currency_code</span> <span class="o">==</span> <span class="s1">&#39;USD&#39;</span><span class="p">]</span>
<span class="n">val_us</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">offices_ipos_us</span><span class="p">[</span><span class="o">~</span><span class="n">offices_ipos_us</span><span class="o">.</span><span class="n">valuation_amount</span><span class="o">.</span><span class="n">isnull</span><span class="p">()]</span><span class="o">.</span><span class="n">valuation_amount</span><span class="p">)</span>
<span class="n">region</span> <span class="o">=</span> <span class="n">offices_ipos_us</span><span class="p">[</span><span class="o">~</span><span class="n">offices_ipos_us</span><span class="o">.</span><span class="n">valuation_amount</span><span class="o">.</span><span class="n">isnull</span><span class="p">()]</span><span class="o">.</span><span class="n">region</span>
<span class="c1"># create dataframe with just region and valuation</span>
<span class="n">df_region_val</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">region</span><span class="p">,</span> <span class="n">val_us</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">df_region_val</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[13]:
</pre></div>
</div>
<div class="output_area docutils container">
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>valuation_amount</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>1.610000e+02</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>3.904637e+09</td>
    </tr>
    <tr>
      <th>std</th>
      <td>1.615982e+10</td>
    </tr>
    <tr>
      <th>min</th>
      <td>3.860000e+04</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>1.340000e+08</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>3.150000e+08</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>1.000000e+09</td>
    </tr>
    <tr>
      <th>max</th>
      <td>1.040000e+11</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># perform calculations on a per region basis</span>
<span class="n">reg</span> <span class="o">=</span> <span class="n">df_region_val</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;region&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<p>SF Bay has the most IPOs with NY, London, and Seattle following.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># sort regions by number of ipos (that had valutation amount listed)</span>
<span class="n">num</span> <span class="o">=</span> <span class="n">reg</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">num</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;valuation_amount&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[15]:
</pre></div>
</div>
<div class="output_area docutils container">
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>valuation_amount</th>
    </tr>
    <tr>
      <th>region</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>SF Bay</th>
      <td>34</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>11</td>
    </tr>
    <tr>
      <th>London</th>
      <td>8</td>
    </tr>
    <tr>
      <th>Seattle</th>
      <td>7</td>
    </tr>
    <tr>
      <th>Denver</th>
      <td>6</td>
    </tr>
    <tr>
      <th>Boston</th>
      <td>6</td>
    </tr>
    <tr>
      <th>Los Angeles</th>
      <td>6</td>
    </tr>
    <tr>
      <th>Chicago</th>
      <td>5</td>
    </tr>
    <tr>
      <th>Beijing</th>
      <td>4</td>
    </tr>
    <tr>
      <th>Singapore</th>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>To create an informative boxplot of valuation amount by region we
include regions with &gt;5 companies that IPO.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># plot valuation by region</span>
<span class="n">top7</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;SF Bay&#39;</span><span class="p">,</span> <span class="s1">&#39;New York&#39;</span><span class="p">,</span> <span class="s1">&#39;London&#39;</span><span class="p">,</span> <span class="s1">&#39;Seattle&#39;</span><span class="p">,</span> <span class="s1">&#39;Denver&#39;</span><span class="p">,</span> <span class="s1">&#39;Boston&#39;</span><span class="p">,</span> <span class="s1">&#39;Los Angeles&#39;</span><span class="p">]</span>
<span class="n">df_top7</span> <span class="o">=</span> <span class="n">df_region_val</span><span class="p">[</span><span class="n">df_region_val</span><span class="o">.</span><span class="n">region</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">top7</span><span class="p">)]</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">a</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">a</span><span class="o">=</span><span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;region&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;valuation_amount&#39;</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">df_top7</span><span class="p">,</span> <span class="n">ci</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="n">top7</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;valuation amount&#39;</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;valuation by region&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;results/valuation_region.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/location_time._29_0.png" src="_images/location_time._29_0.png" />
</div>
</div>
<p>While SF Bay has the most companies that IPO (above barplot is sorted
from most companies that IPO to least), the region with the highest mean
valuation amount is Seattle. However, the N for Seattle is only 7 so the
effects of outliers like Microsoft are more significant (refer to wider
boxplot for Seattle below).</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># plot valuation by region</span>
<span class="n">top7</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;SF Bay&#39;</span><span class="p">,</span> <span class="s1">&#39;New York&#39;</span><span class="p">,</span> <span class="s1">&#39;London&#39;</span><span class="p">,</span> <span class="s1">&#39;Seattle&#39;</span><span class="p">,</span> <span class="s1">&#39;Denver&#39;</span><span class="p">,</span> <span class="s1">&#39;Boston&#39;</span><span class="p">,</span> <span class="s1">&#39;Los Angeles&#39;</span><span class="p">]</span>
<span class="n">df_top7</span> <span class="o">=</span> <span class="n">df_region_val</span><span class="p">[</span><span class="n">df_region_val</span><span class="o">.</span><span class="n">region</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">top7</span><span class="p">)]</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">a</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">a</span><span class="o">=</span><span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;region&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;valuation_amount&#39;</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">df_top7</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="n">top7</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;valuation amount&#39;</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;valuation by region&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/location_time._31_0.png" src="_images/location_time._31_0.png" />
</div>
</div>
</div>
<div class="section" id="Analysis-of-number-of-IPOs-over-time">
<h3>Analysis of number of IPOs over time<a class="headerlink" href="#Analysis-of-number-of-IPOs-over-time" title="Permalink to this headline">¶</a></h3>
<p>In addition to looking at the value and region of companies that IPO we
also look at historical trends in terms of the number of IPOs over time
to determine how timing may affect a company’s success. We no longer
restrict analysis to companies where valuation amount is provided.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># now don&#39;t filter to ones with valuation amount only</span>
<span class="n">dt</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">offices_ipos</span><span class="o">.</span><span class="n">public_at</span><span class="p">)</span>
<span class="n">valAll</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">offices_ipos</span><span class="o">.</span><span class="n">valuation_amount</span><span class="p">)</span>
<span class="n">regionAll</span> <span class="o">=</span> <span class="n">offices_ipos</span><span class="o">.</span><span class="n">region</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">df_region_dt</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">regionAll</span><span class="p">,</span> <span class="n">dt</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">time</span> <span class="o">=</span> <span class="n">df_region_dt</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="n">dt</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># top counts by year</span>
<span class="n">num</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">num</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;public_at&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[20]:
</pre></div>
</div>
<div class="output_area docutils container">
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>region</th>
      <th>public_at</th>
    </tr>
    <tr>
      <th>public_at</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2013.0</th>
      <td>154</td>
      <td>154</td>
    </tr>
    <tr>
      <th>2004.0</th>
      <td>88</td>
      <td>88</td>
    </tr>
    <tr>
      <th>2011.0</th>
      <td>83</td>
      <td>83</td>
    </tr>
    <tr>
      <th>2010.0</th>
      <td>77</td>
      <td>77</td>
    </tr>
    <tr>
      <th>2012.0</th>
      <td>51</td>
      <td>51</td>
    </tr>
    <tr>
      <th>2009.0</th>
      <td>47</td>
      <td>47</td>
    </tr>
    <tr>
      <th>1999.0</th>
      <td>47</td>
      <td>47</td>
    </tr>
    <tr>
      <th>2007.0</th>
      <td>46</td>
      <td>46</td>
    </tr>
    <tr>
      <th>2008.0</th>
      <td>44</td>
      <td>44</td>
    </tr>
    <tr>
      <th>2000.0</th>
      <td>43</td>
      <td>43</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># barplot showing number of ipos by year</span>
<span class="n">a</span><span class="o">=</span><span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">num</span><span class="o">.</span><span class="n">public_at</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">num</span><span class="o">.</span><span class="n">public_at</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;number of ipos&#39;</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;number of ipos by year&#39;</span><span class="p">);</span>
<span class="n">a</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="n">num</span><span class="o">.</span><span class="n">public_at</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">),</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;results/ipos_year.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/location_time._37_0.png" src="_images/location_time._37_0.png" />
</div>
</div>
<p>More recent years have more IPOs. However, we cannot rule out the
possibility that the Crunchbase dataset is also simply becoming more
complete.</p>
</div>
<div class="section" id="Incorporate-cb_objects-into-analysis-to-consider-funding_total_usd-metric">
<h3>Incorporate cb_objects into analysis to consider funding_total_usd metric<a class="headerlink" href="#Incorporate-cb_objects-into-analysis-to-consider-funding_total_usd-metric" title="Permalink to this headline">¶</a></h3>
<p>While we had been considering valuation amount from the IPO data, we
also consider funding_total_usd for the below analysis because it is a
much richer dataset. We have N=27,874 instead of N=167.</p>
</div>
</div>
<div class="section" id="Connect-to-database-and-look-at-dataframe-from-cb_objects">
<h2>Connect to database and look at dataframe from cb_objects<a class="headerlink" href="#Connect-to-database-and-look-at-dataframe-from-cb_objects" title="Permalink to this headline">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">conn</span> <span class="o">=</span> <span class="n">dbConnect</span><span class="p">()</span>
<span class="n">objs</span> <span class="o">=</span> <span class="n">dbTableToDataFrame</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span> <span class="s1">&#39;cb_objects&#39;</span><span class="p">)</span>
<span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">objs</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[23]:
</pre></div>
</div>
<div class="output_area docutils container">
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>category_code</th>
      <th>city</th>
      <th>closed_at</th>
      <th>country_code</th>
      <th>created_at</th>
      <th>created_by</th>
      <th>description</th>
      <th>domain</th>
      <th>entity_id</th>
      <th>entity_type</th>
      <th>...</th>
      <th>parent_id</th>
      <th>permalink</th>
      <th>region</th>
      <th>relationships</th>
      <th>short_description</th>
      <th>state_code</th>
      <th>status</th>
      <th>tag_list</th>
      <th>twitter_username</th>
      <th>updated_at</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>web</td>
      <td>Seattle</td>
      <td>None</td>
      <td>USA</td>
      <td>2007-05-25 06:51:27</td>
      <td>initial-importer</td>
      <td>Technology Platform Company</td>
      <td>wetpaint-inc.com</td>
      <td>1</td>
      <td>Company</td>
      <td>...</td>
      <td>None</td>
      <td>/company/wetpaint</td>
      <td>Seattle</td>
      <td>17.0</td>
      <td>None</td>
      <td>WA</td>
      <td>operating</td>
      <td>wiki, seattle, elowitz, media-industry, media-...</td>
      <td>BachelrWetpaint</td>
      <td>2013-04-13 03:29:00</td>
    </tr>
    <tr>
      <th>1</th>
      <td>games_video</td>
      <td>Culver City</td>
      <td>None</td>
      <td>USA</td>
      <td>2007-05-31 21:11:51</td>
      <td>initial-importer</td>
      <td>None</td>
      <td>flektor.com</td>
      <td>10</td>
      <td>Company</td>
      <td>...</td>
      <td>None</td>
      <td>/company/flektor</td>
      <td>Los Angeles</td>
      <td>6.0</td>
      <td>None</td>
      <td>CA</td>
      <td>acquired</td>
      <td>flektor, photo, video</td>
      <td>None</td>
      <td>2008-05-23 23:23:14</td>
    </tr>
    <tr>
      <th>2</th>
      <td>games_video</td>
      <td>San Mateo</td>
      <td>None</td>
      <td>USA</td>
      <td>2007-08-06 23:52:45</td>
      <td>initial-importer</td>
      <td></td>
      <td>there.com</td>
      <td>100</td>
      <td>Company</td>
      <td>...</td>
      <td>None</td>
      <td>/company/there</td>
      <td>SF Bay</td>
      <td>12.0</td>
      <td>None</td>
      <td>CA</td>
      <td>acquired</td>
      <td>virtualworld, there, teens</td>
      <td>None</td>
      <td>2013-11-04 02:09:48</td>
    </tr>
    <tr>
      <th>3</th>
      <td>network_hosting</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>2008-08-24 16:51:57</td>
      <td>None</td>
      <td>None</td>
      <td>mywebbo.com</td>
      <td>10000</td>
      <td>Company</td>
      <td>...</td>
      <td>None</td>
      <td>/company/mywebbo</td>
      <td>unknown</td>
      <td>NaN</td>
      <td>None</td>
      <td>None</td>
      <td>operating</td>
      <td>social-network, new, website, web, friends, ch...</td>
      <td>None</td>
      <td>2008-09-06 14:19:18</td>
    </tr>
    <tr>
      <th>4</th>
      <td>games_video</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>2008-08-24 17:10:34</td>
      <td>None</td>
      <td>None</td>
      <td>themoviestreamer.com</td>
      <td>10001</td>
      <td>Company</td>
      <td>...</td>
      <td>None</td>
      <td>/company/the-movie-streamer</td>
      <td>unknown</td>
      <td>NaN</td>
      <td>None</td>
      <td>None</td>
      <td>operating</td>
      <td>watch, full-length, moives, online, for, free,...</td>
      <td>None</td>
      <td>2008-09-06 14:19:18</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 40 columns</p>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">objs</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[24]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>Index([&#39;category_code&#39;, &#39;city&#39;, &#39;closed_at&#39;, &#39;country_code&#39;, &#39;created_at&#39;,
       &#39;created_by&#39;, &#39;description&#39;, &#39;domain&#39;, &#39;entity_id&#39;, &#39;entity_type&#39;,
       &#39;first_funding_at&#39;, &#39;first_investment_at&#39;, &#39;first_milestone_at&#39;,
       &#39;founded_at&#39;, &#39;funding_rounds&#39;, &#39;funding_total_usd&#39;, &#39;homepage_url&#39;,
       &#39;id&#39;, &#39;invested_companies&#39;, &#39;investment_rounds&#39;, &#39;last_funding_at&#39;,
       &#39;last_investment_at&#39;, &#39;last_milestone_at&#39;, &#39;logo_height&#39;, &#39;logo_url&#39;,
       &#39;logo_width&#39;, &#39;milestones&#39;, &#39;name&#39;, &#39;normalized_name&#39;, &#39;overview&#39;,
       &#39;parent_id&#39;, &#39;permalink&#39;, &#39;region&#39;, &#39;relationships&#39;,
       &#39;short_description&#39;, &#39;state_code&#39;, &#39;status&#39;, &#39;tag_list&#39;,
       &#39;twitter_username&#39;, &#39;updated_at&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">objs</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[25]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>(462651, 40)
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="nb">len</span><span class="p">(</span><span class="n">objs</span><span class="o">.</span><span class="n">funding_total_usd</span><span class="p">[</span><span class="o">~</span><span class="n">objs</span><span class="o">.</span><span class="n">funding_total_usd</span><span class="o">.</span><span class="n">isnull</span><span class="p">()])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[26]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>27874
</pre></div>
</div>
</div>
</div>
<div class="section" id="Look-at-the-influence-of-state-on-total-funding">
<h2>Look at the influence of state on total funding<a class="headerlink" href="#Look-at-the-influence-of-state-on-total-funding" title="Permalink to this headline">¶</a></h2>
<p>The greatest mean funding is in WA, CA, MA, MD, and AL. However when
looking at boxplots with the median indicated, which is a better metric
so we are not sensitive to extreme outliers, we see that the median is
highest in CA, MA, NJ, NH, and ME.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># plot mean funding_total_usd by state</span>
<span class="n">a</span><span class="o">=</span><span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">objs</span><span class="p">[</span><span class="s1">&#39;state_code&#39;</span><span class="p">],</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">objs</span><span class="p">[</span><span class="s1">&#39;funding_total_usd&#39;</span><span class="p">]),</span> <span class="n">ci</span><span class="o">=</span><span class="bp">False</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/location_time._49_0.png" src="_images/location_time._49_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># boxplot of funding_total_usd by state</span>
<span class="n">a</span><span class="o">=</span><span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">objs</span><span class="p">[</span><span class="s1">&#39;state_code&#39;</span><span class="p">],</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">objs</span><span class="p">[</span><span class="s1">&#39;funding_total_usd&#39;</span><span class="p">]));</span>
<span class="n">a</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">2.5e7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;results/funding_state.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/location_time._50_0.png" src="_images/location_time._50_0.png" />
</div>
</div>
<p>Just as we looked at the number of IPOs over time, we now look at the
emergence of new companies over time.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># group by date founded to do analysis on the emergence of new companies over time</span>
<span class="n">dt</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">objs</span><span class="o">.</span><span class="n">founded_at</span><span class="p">)</span>
<span class="n">df_fund_dt</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">objs</span><span class="o">.</span><span class="n">funding_total_usd</span><span class="p">,</span> <span class="n">dt</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">founded</span> <span class="o">=</span> <span class="n">df_fund_dt</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="n">dt</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># top counts by year</span>
<span class="n">num_found</span> <span class="o">=</span> <span class="n">founded</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">num_found</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;founded_at&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)[</span><span class="s1">&#39;founded_at&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[30]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>founded_at
2011.0    11884
2012.0    11158
2010.0    10858
2009.0     9805
2008.0     8502
2007.0     6765
2013.0     6280
2006.0     4689
2005.0     3580
2004.0     2828
Name: founded_at, dtype: int64
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># plot number of new companies by year; zooming in on 1990 and later where there is more data</span>
<span class="n">a</span><span class="o">=</span><span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">num_found</span><span class="o">.</span><span class="n">founded_at</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)[(</span><span class="n">num_found</span><span class="o">.</span><span class="n">founded_at</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">1990</span><span class="p">)</span>
                                                     <span class="o">&amp;</span> <span class="p">(</span><span class="n">num_found</span><span class="o">.</span><span class="n">founded_at</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2013</span><span class="p">)],</span>
              <span class="n">num_found</span><span class="o">.</span><span class="n">founded_at</span><span class="p">[(</span><span class="n">num_found</span><span class="o">.</span><span class="n">founded_at</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">1990</span><span class="p">)</span>
                                   <span class="o">&amp;</span> <span class="p">(</span><span class="n">num_found</span><span class="o">.</span><span class="n">founded_at</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2013</span><span class="p">)])</span>
<span class="n">a</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;number of new companies&#39;</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;number of new companies by year&#39;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;results/new_year.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/location_time._54_0.png" src="_images/location_time._54_0.png" />
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># company lifespan: closed_at - founded_at</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">objs</span><span class="o">.</span><span class="n">founded_at</span><span class="p">)</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">objs</span><span class="o">.</span><span class="n">closed_at</span><span class="p">)</span>
<span class="n">life</span> <span class="o">=</span> <span class="n">end</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span> <span class="o">-</span> <span class="n">start</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [33]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">a</span><span class="o">=</span><span class="n">sns</span><span class="o">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">life</span><span class="p">[</span><span class="o">~</span><span class="n">life</span><span class="o">.</span><span class="n">isnull</span><span class="p">()]);</span>
<span class="n">a</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/location_time._56_0.png" src="_images/location_time._56_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [34]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># there are 27 with a life &lt; 0 showing data entry for this data set was flawed.</span>
<span class="n">life</span><span class="p">[</span><span class="n">life</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[34]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>count    27.000000
mean     -7.851852
std      10.614590
min     -40.000000
25%      -9.500000
50%      -3.000000
75%      -1.000000
max      -1.000000
dtype: float64
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [35]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># consider those with positive life</span>
<span class="n">life_pos</span> <span class="o">=</span> <span class="n">life</span><span class="p">[</span><span class="n">life</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span>
<span class="n">life_pos</span><span class="p">[</span><span class="o">~</span><span class="n">life_pos</span><span class="o">.</span><span class="n">isnull</span><span class="p">()]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[35]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>count    2013.000000
mean        4.384004
std         4.359592
min         1.000000
25%         2.000000
50%         3.000000
75%         5.000000
max        53.000000
dtype: float64
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [36]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># see whether companies tend to have longer of shorter lifespans based on when they were founded</span>
<span class="n">a</span><span class="o">=</span><span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">start</span><span class="p">[</span><span class="o">~</span><span class="n">life</span><span class="o">.</span><span class="n">isnull</span><span class="p">()]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">),</span> <span class="n">life</span><span class="p">[</span><span class="o">~</span><span class="n">life</span><span class="o">.</span><span class="n">isnull</span><span class="p">()],</span> <span class="n">ci</span><span class="o">=</span><span class="bp">None</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/location_time._59_0.png" src="_images/location_time._59_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [37]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># see whether companies tend to have longer or shorter lifespans based on region</span>
<span class="n">a</span><span class="o">=</span><span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">objs</span><span class="o">.</span><span class="n">state_code</span><span class="p">[</span><span class="o">~</span><span class="n">objs</span><span class="o">.</span><span class="n">state_code</span><span class="o">.</span><span class="n">isnull</span><span class="p">()],</span> <span class="n">life</span><span class="p">[</span><span class="o">~</span><span class="n">objs</span><span class="o">.</span><span class="n">state_code</span><span class="o">.</span><span class="n">isnull</span><span class="p">()],</span> <span class="n">ci</span><span class="o">=</span><span class="bp">None</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/location_time._60_0.png" src="_images/location_time._60_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [38]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># see whether companies tend to have longer or shorter lifespans based on region</span>
<span class="n">a</span><span class="o">=</span><span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">objs</span><span class="o">.</span><span class="n">state_code</span><span class="p">[</span><span class="o">~</span><span class="n">objs</span><span class="o">.</span><span class="n">state_code</span><span class="o">.</span><span class="n">isnull</span><span class="p">()],</span> <span class="n">life</span><span class="p">[</span><span class="o">~</span><span class="n">objs</span><span class="o">.</span><span class="n">state_code</span><span class="o">.</span><span class="n">isnull</span><span class="p">()]);</span>
<span class="n">a</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">15</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/location_time._61_0.png" src="_images/location_time._61_0.png" />
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Exploratory analyses #1 &amp; #2: the effects of place and time</a><ul>
<li><a class="reference internal" href="#Set-up">Set-up</a></li>
<li><a class="reference internal" href="#Look-at-offices-and-ipos-dataframes-&amp;-merge-them">Look at offices and ipos dataframes &amp; merge them</a><ul>
<li><a class="reference internal" href="#Distribution-of-valuation-amount">Distribution of valuation amount</a></li>
<li><a class="reference internal" href="#Valuation-amount-by-region">Valuation amount by region</a></li>
<li><a class="reference internal" href="#Analysis-of-number-of-IPOs-over-time">Analysis of number of IPOs over time</a></li>
<li><a class="reference internal" href="#Incorporate-cb_objects-into-analysis-to-consider-funding_total_usd-metric">Incorporate cb_objects into analysis to consider funding_total_usd metric</a></li>
</ul>
</li>
<li><a class="reference internal" href="#Connect-to-database-and-look-at-dataframe-from-cb_objects">Connect to database and look at dataframe from cb_objects</a></li>
<li><a class="reference internal" href="#Look-at-the-influence-of-state-on-total-funding">Look at the influence of state on total funding</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="README.html" title="previous chapter">Can we predict a start-up's success?</a></li>
      <li>Next: <a href="investors..html" title="next chapter">Exploratory analysis #3: investor portfolio correlations</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/location_time..ipynb.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Annie Maslan, Jack Moorer, Mitch Negus.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/location_time..ipynb.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>